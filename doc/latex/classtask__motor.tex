\hypertarget{classtask__motor}{\section{task\-\_\-motor \-Class \-Reference}
\label{classtask__motor}\index{task\-\_\-motor@{task\-\_\-motor}}
}


{\ttfamily \#include $<$task\-\_\-motor.\-h$>$}

\subsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classtask__motor_a94cd580f333660de457fdc5c2bd5702e}{task\-\_\-motor} (const char $\ast$, unsigned port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E, size\-\_\-t, uint8\-\_\-t, \hyperlink{classmotor__driver}{motor\-\_\-driver} $\ast$, shared\-\_\-data$<$ bool $>$ $\ast$, shared\-\_\-data$<$ int16\-\_\-t $>$ $\ast$, shared\-\_\-data$<$ bool $>$ $\ast$, uint8\-\_\-t, emstream $\ast$)
\item 
void \hyperlink{classtask__motor_a895a075ec470c9d5a07b8959de06aacd}{run} (void)
\item 
void \hyperlink{classtask__motor_ae855a78d1ee432a797d401a9222c9955}{print\-\_\-status} (emstream \&)
\end{DoxyCompactItemize}
\subsection*{\-Public \-Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classtask__motor_a54a068b1d4cb46dba17d3de8d17fc87c}{uint32\-\_\-t \hyperlink{classtask__motor_a54a068b1d4cb46dba17d3de8d17fc87c}{runs}}\label{classtask__motor_a54a068b1d4cb46dba17d3de8d17fc87c}

\begin{DoxyCompactList}\small\item\em \-How many times through the task loop. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Protected \-Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classtask__motor_a3f10bbf8d028b18a2a4427f1c152be53}{uint8\-\_\-t \hyperlink{classtask__motor_a3f10bbf8d028b18a2a4427f1c152be53}{brake\-\_\-pin}}\label{classtask__motor_a3f10bbf8d028b18a2a4427f1c152be53}

\begin{DoxyCompactList}\small\item\em \-Brake pin mask. \end{DoxyCompactList}\item 
\hypertarget{classtask__motor_ae64744376a44ba347c8f37afd7311ab7}{uint8\-\_\-t \hyperlink{classtask__motor_ae64744376a44ba347c8f37afd7311ab7}{adc\-\_\-select}}\label{classtask__motor_ae64744376a44ba347c8f37afd7311ab7}

\begin{DoxyCompactList}\small\item\em \-Value for which adc should read from. \end{DoxyCompactList}\item 
\hypertarget{classtask__motor_ad9d344255e29de67611998bf77658d9f}{\hyperlink{classmotor__driver}{motor\-\_\-driver} $\ast$ \hyperlink{classtask__motor_ad9d344255e29de67611998bf77658d9f}{driver}}\label{classtask__motor_ad9d344255e29de67611998bf77658d9f}

\begin{DoxyCompactList}\small\item\em \-A pointer to \hyperlink{classmotor__driver}{motor\-\_\-driver}. \end{DoxyCompactList}\item 
\hypertarget{classtask__motor_a22d847bf1b45ed005a6f6393cb37d327}{shared\-\_\-data$<$ bool $>$ $\ast$ \hyperlink{classtask__motor_a22d847bf1b45ed005a6f6393cb37d327}{brake}}\label{classtask__motor_a22d847bf1b45ed005a6f6393cb37d327}

\begin{DoxyCompactList}\small\item\em \-A pointer to the brake shared data. \end{DoxyCompactList}\item 
\hypertarget{classtask__motor_a291245b7c83dae649f310caf016ab959}{shared\-\_\-data$<$ int16\-\_\-t $>$ $\ast$ \hyperlink{classtask__motor_a291245b7c83dae649f310caf016ab959}{power}}\label{classtask__motor_a291245b7c83dae649f310caf016ab959}

\begin{DoxyCompactList}\small\item\em \-A pointer to the power shared data. \end{DoxyCompactList}\item 
\hypertarget{classtask__motor_afe8cab4e912b4814d29a8b9f0d091f48}{shared\-\_\-data$<$ bool $>$ $\ast$ \hyperlink{classtask__motor_afe8cab4e912b4814d29a8b9f0d091f48}{pot}}\label{classtask__motor_afe8cab4e912b4814d29a8b9f0d091f48}

\begin{DoxyCompactList}\small\item\em \-A pointer to the potentiometer shared data. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
\-This task determines what commands to send to the motor driver. 

\-Definition at line 32 of file task\-\_\-motor.\-h.



\subsection{\-Constructor \& \-Destructor \-Documentation}
\hypertarget{classtask__motor_a94cd580f333660de457fdc5c2bd5702e}{\index{task\-\_\-motor@{task\-\_\-motor}!task\-\_\-motor@{task\-\_\-motor}}
\index{task\-\_\-motor@{task\-\_\-motor}!task_motor@{task\-\_\-motor}}
\subsubsection[{task\-\_\-motor}]{\setlength{\rightskip}{0pt plus 5cm}{\bf task\-\_\-motor\-::task\-\_\-motor} (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{a\-\_\-name, }
\item[{unsigned port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E}]{a\-\_\-priority, }
\item[{size\-\_\-t}]{a\-\_\-stack\-\_\-size, }
\item[{uint8\-\_\-t}]{brake\-\_\-mask, }
\item[{{\bf motor\-\_\-driver} $\ast$}]{p\-\_\-driver, }
\item[{shared\-\_\-data$<$ bool $>$ $\ast$}]{p\-\_\-brake, }
\item[{shared\-\_\-data$<$ int16\-\_\-t $>$ $\ast$}]{p\-\_\-power, }
\item[{shared\-\_\-data$<$ bool $>$ $\ast$}]{p\-\_\-pot, }
\item[{uint8\-\_\-t}]{adc\-\_\-mask, }
\item[{emstream $\ast$}]{p\-\_\-ser\-\_\-dev}
\end{DoxyParamCaption}
)}}\label{classtask__motor_a94cd580f333660de457fdc5c2bd5702e}
\-This constructor creates a task which controls the speed of a motor using input from an \-A/\-D converter run through a potentiometer as well as an input from. a button. \-The main job of this constructor is to call the constructor of parent class ({\ttfamily frt\-\_\-task} ); the parent's constructor the work. 
\begin{DoxyParams}{\-Parameters}
{\em a\-\_\-name} & \-A character string which will be the name of this task \\
\hline
{\em a\-\_\-priority} & \-The priority at which this task will initially run (default\-: 0) \\
\hline
{\em a\-\_\-stack\-\_\-size} & \-The size of this task's stack in bytes (default\-: config\-M\-I\-N\-I\-M\-A\-L\-\_\-\-S\-T\-A\-C\-K\-\_\-\-S\-I\-Z\-E) \\
\hline
{\em brake\-\_\-mask} & \-Mask for brake value. \\
\hline
{\em p\-\_\-driver} & \-Pointer to a motor driver. \\
\hline
{\em p\-\_\-brake} & \-Pointer to the shared brake boolean. \\
\hline
{\em p\-\_\-power} & \-Pointer to the shared power value. \\
\hline
{\em p\-\_\-pot} & \-Pointer to the shared potentiometer boolean. \\
\hline
{\em adc\-\_\-mask} & \-Mask for which adc to read from. \\
\hline
{\em p\-\_\-ser\-\_\-dev} & \-Pointer to a serial device (port, radio, \-S\-D card, etc.) which can be used by this task to communicate (default\-: \-N\-U\-L\-L) \\
\hline
\end{DoxyParams}


\-Definition at line 34 of file task\-\_\-motor.\-cpp.



\-References adc\-\_\-select, brake, brake\-\_\-pin, driver, pot, and power.



\subsection{\-Member \-Function \-Documentation}
\hypertarget{classtask__motor_ae855a78d1ee432a797d401a9222c9955}{\index{task\-\_\-motor@{task\-\_\-motor}!print\-\_\-status@{print\-\_\-status}}
\index{print\-\_\-status@{print\-\_\-status}!task_motor@{task\-\_\-motor}}
\subsubsection[{print\-\_\-status}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf task\-\_\-motor\-::print\-\_\-status} (
\begin{DoxyParamCaption}
\item[{emstream \&}]{ser\-\_\-thing}
\end{DoxyParamCaption}
)}}\label{classtask__motor_ae855a78d1ee432a797d401a9222c9955}
\-Self explanitory. \-This function takes in a serial port in the form of an address and passes it straight to the parent constructor so it can print out the status. \-Also prints out the number of runs 

\-Definition at line 93 of file task\-\_\-motor.\-cpp.



\-References runs.

\hypertarget{classtask__motor_a895a075ec470c9d5a07b8959de06aacd}{\index{task\-\_\-motor@{task\-\_\-motor}!run@{run}}
\index{run@{run}!task_motor@{task\-\_\-motor}}
\subsubsection[{run}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf task\-\_\-motor\-::run} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{classtask__motor_a895a075ec470c9d5a07b8959de06aacd}
\-This run method is called by the \-R\-T\-O\-S and contains a loop in which the task checks for data and sends it if appropriate.

\-This method is called once by the \-R\-T\-O\-S scheduler. \-Each time around the for (;;) loop, it reads the \-A/\-D converter and change the selected motors speed. \-Each loop also check the two additional buttons, which control the brakes of the individual motors. 

\-Definition at line 62 of file task\-\_\-motor.\-cpp.



\-References adc\-\_\-select, brake, motor\-\_\-driver\-::brake(), brake\-\_\-pin, driver, pot, power, adc\-::read\-\_\-once(), runs, and motor\-\_\-driver\-::set\-\_\-power().



\-The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
\hyperlink{task__motor_8h}{task\-\_\-motor.\-h}\item 
\hyperlink{task__motor_8cpp}{task\-\_\-motor.\-cpp}\end{DoxyCompactItemize}
